<!DOCTYPE html>
<html>

<head>
  <title>W04P06</title>
  <script type="text/javascript" src="../MV.js"></script>
  <script type="text/javascript" src="w04p06.js"></script>
  <script id="wgsl" type="x-shader" src="w04p06.wgsl"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>
  <style>
    body {
      font-size: large;
    }

    button {
      font-size: large;
    }

    .flex {
      display: flex;
      flex-direction: row;
      gap: 8px;
    }

    .center {
      align-items: center;
    }
  </style>
</head>

<body>
  <div class="flex">
    <canvas id="my-canvas" width="512" height="512">
      Please use a browser that supports HTML5 canvas.
    </canvas>
    <div class="flex" style="flex-direction: column;">
      <div class="flex center">
        <button id="minus">Coarsen</button>
        <button id="plus">Subdivide</button>
        <p>Subdivision level: <span id="value">0</span></p>
      </div>
      <button id="toggle-animate">Animate</button>
      <div style="display: flex; flex-direction: column;">
        <p>Emitted radiance (\(\mathbf{L}_e\)):</p>
        <div class="flex">
          0.0<input type="range" id="emitted-radiance" min="0.0" max="2.0" value="1.0" step="0.01" style="width: 100%;">2.0
        </div>
      </div>
      <div style="display: flex; flex-direction: column;">
        <p>Ambient radiance (\(\mathbf{L}_a\)):</p>
        <div class="flex">
          0.0<input type="range" id="ambient-radiance" min="0.0" max="1.0" value="0.0" step="0.01" style="width: 100%;">1.0
        </div>
      </div>
      <div style="display: flex; flex-direction: column;">
        <p>Diffuse coefficient (\(k_d\)):</p>
        <div class="flex">
          0.0<input type="range" id="diffuse" min="0.0" max="1.0" value="1.0" step="0.01" style="width: 100%;">1.0
        </div>
      </div>
      <div style="display: flex; flex-direction: column;">
        <p>Specular coefficient (\(k_s\)):</p>
        <div class="flex">
          0.0<input type="range" id="specular" min="0.0" max="1.0" value="1.0" step="0.01" style="width: 100%;">1.0
        </div>
      </div>
      <div style="display: flex; flex-direction: column;">
        <p>Shininess (\(s\)):</p>
        <div class="flex">
          0.0<input type="range" id="shininess" min="0.0" max="1.0e3" value="40.0" step="0.01" style="width: 100%;">1.0e3
        </div>
      </div>
    </div>
    <p>
      <ul>
        <li>
          a) Flat shading shades each face with a single color, determined by the triangle's normal and the light direction. Gouraud shading computes a color at each vertex and then interpolates the color over each triangle based on the color of the triangles vertices. Phong shading interpolates the normals over each triangle, and the calculates the shading at each pixel/fragment. Phong shading is better at highlights, since Gouraud shading only show highlights if they are close to or hit a vertex. If the highlight is entirely inside a single triangle then it is not shown. Phong shading shows highlights no matter where they are on a triangle. Phong is more computationally expensive than Gouraud, since it does the lighting calculation per pixel/fragment instead of per vertex.</li>
        </li>
        <li>
          b) A directional light has the same direction to the light no matter where it hits. Also has the same intensity everywhere.
          A point light has a point position where the light is emitted from. Thus the direction to the light depends on the position the light hits. The light intensity falls off with the square of the distance, since the light is spread out over a larger area the further away you get. 
        </li>
        <li>
          c) Yes it influences the specular highlights, as the Phong reflection model uses the direction to the eye. This makes highlights for point lights which otherwise would not be visible since the point light has no area.
        </li>
        <li>
          d) Setting the specular term to (0,0,0) removes the hightlights from the model. (Set \(k_s = 0\)).
        </li>
        <li>
          e) Increasing \(s\) makes the highlights smaller and sharper.
        </li>
        <li>
          f) I computed the lighting in world space. As such the eye position is added as a uniform variable used in the shader.
        </li>
      </ul>
    </p>
</body>

</html>