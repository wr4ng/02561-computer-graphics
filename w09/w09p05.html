<!DOCTYPE html>
<html>

<head>
  <title>W09P03</title>
  <script type="text/javascript" src="../MV.js"></script>
  <script type="text/javascript" src="../common/OBJParser.js"></script>
  <script type="text/javascript" src="w09p04.js"></script>
  <script id="wgsl" type="x-shader" src="w09p04.wgsl"></script>
  <style>
    body {
      font-size: large;
    }

    button {
      font-size: large;
    }

    .flex {
      display: flex;
      flex-direction: row;
      gap: 8px;
    }

    .center {
      align-items: center;
    }
  </style>
</head>

<body>
  <div class="flex">
    <canvas id="my-canvas" width="512" height="512">
      Please use a browser that supports HTML5 canvas.
    </canvas>
    <div class="flex" style="flex-direction: column;">
      <button id="toggle-animate-light">Animate light</button>
      <button id="toggle-animate-teapot">Animate teapot</button>
      <div style="display: flex; flex-direction: column;">
        <p>Emitted radiance L_e:</p>
        <div class="flex">
          0.0<input type="range" id="emitted-radiance" min="0.0" max="2.0" value="1.0" step="0.01"
            style="width: 100%;">2.0
        </div>
      </div>
      <div style="display: flex; flex-direction: column;">
        <p>Ambient radiance L_a:</p>
        <div class="flex">
          0.0<input type="range" id="ambient-radiance" min="0.0" max="1.0" value="0.0" step="0.01"
            style="width: 100%;">1.0
        </div>
      </div>
      <div style="display: flex; flex-direction: column;">
        <p>Diffuse coefficient k_d:</p>
        <div class="flex">
          0.0<input type="range" id="diffuse" min="0.0" max="1.0" value="1.0" step="0.01" style="width: 100%;">1.0
        </div>
      </div>
      <div style="display: flex; flex-direction: column;">
        <p>Specular coefficient k_s:</p>
        <div class="flex">
          0.0<input type="range" id="specular" min="0.0" max="1.0" value="1.0" step="0.01" style="width: 100%;">1.0
        </div>
      </div>
      <div style="display: flex; flex-direction: column;">
        <p>Shininess s:</p>
        <div class="flex">
          0.0<input type="range" id="shininess" min="0.0" max="1.0e3" value="120.0" step="0.01"
            style="width: 100%;">1.0e3
        </div>
      </div>
    </div>
  </div>
  <p>
    Shadow mapping has the advantage that is can be applied to non-plane surfaces,
    as the depth comparison is done without regard for the geometry. However,
    the shadows appearance is highly dependent on the resolution of the shadow map and how well the object fits within the shadow camera field of view. This can make the shadow pixelated (which can be helped by aliasing).
    It can also be more expensive to render, since it requires rendering the scane from the lights POV.
    <br>
    <br>
    Projection shadows are less expensive to render, since it is part of the same render pass. It does however scale more with the amount of geometry, as the object is projected onto the shadow plane. It also only workds for planer surfaces which is a big limitiation.
    It can also cause issues if you want semi-transparent shadows, as multiple triangles can be projected to the same area on the shadow plane, leading to overlap. This can be solved using alpha-blending and a stencil to avoid drawing multiple times.
  </p>
</body>

</html>